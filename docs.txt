ğŸ”„ FULL DATA FLOW WITH 3 CONTROLLERS

       +------------------+      +------------------+     +-----------------------+
       |    MongoDB       |      |     MySQL        |     |   External API (3rd)  |
       +--------+---------+      +--------+---------+     +-----------+-----------+
                |                         |                           |
                |                         |                           |
                v                         v                           v
   +-------------------+     +-------------------+     +------------------------+
   | mongo_controller.py|     | mysql_controller.py|     |  api_controller.py     |
   +-------------------+     +-------------------+     +------------------------+
                |                         |                           |
                v                         v                           v
           +---------------------------------------------------------------+
           |             processors/ (cleaner â†’ normalizer â†’ tagger)       |
           +---------------------------------------------------------------+
                                      |
                                      v
                   +---------------------------------------------+
                   |           Exporter / API Layer              |
                   | (file_exporter, api_exporter, data_registry)|
                   +---------------------------------------------+
                                      |
                              +-------+--------+
                              | Downstream:    |
                              | Vector Store,  |
                              | Chatbot, UI... |
                              +----------------+

ğŸ§± MVC STRUCTURE OVERVIEW â€“ cric_datahub/

cric_datahub/
â”œâ”€â”€ main.py                            # ğŸš€ Entry point (FastAPI/Flask app)
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.py                    # ğŸ”§ Global settings (DB URIs, API keys)
â”‚
â”œâ”€â”€ controllers/                       # ğŸ® Responsible for orchestration
â”‚   â”œâ”€â”€ mongo_controller.py            # ğŸ§  Controls Mongo fetch â†’ process â†’ export
â”‚   â”œâ”€â”€ mysql_controller.py            # ğŸ§  Controls MySQL fetch â†’ process â†’ export
â”‚   â””â”€â”€ api_controller.py              # ğŸ§  Controls 3rd-party fetch â†’ process â†’ export
â”‚
â”œâ”€â”€ models/                            # ğŸ§¬ Handles raw data fetching
â”‚   â”œâ”€â”€ mongo_model.py                 # ğŸ“¦ Fetch from MongoDB via PyMongo
â”‚   â”œâ”€â”€ mysql_model.py                 # ğŸ“¦ Fetch from MySQL via SQLAlchemy
â”‚   â””â”€â”€ api_model.py                   # ğŸ“¦ Fetch from third-party APIs (e.g., CricAPI)
â”‚
â”œâ”€â”€ routes/                            # ğŸŒ API Routes / Endpoints
â”‚   â”œâ”€â”€ mongo_routes.py                # ğŸ” Endpoints for MongoDB-related data
â”‚   â”œâ”€â”€ mysql_routes.py                # ğŸ” Endpoints for MySQL-related data
â”‚   â””â”€â”€ api_routes.py                  # ğŸ” Endpoints for 3rd-party API data
â”‚
â”œâ”€â”€ processors/                        # ğŸ§¹ Data transformation + enrichment
â”‚   â”œâ”€â”€ data_cleaner.py                # ğŸ§½ Remove nulls, deduplicate, sanitize
â”‚   â”œâ”€â”€ data_normalizer.py             # ğŸ”„ Lowercasing, standard units, key standardization
â”‚   â””â”€â”€ metadata_tagger.py             # ğŸ·ï¸ Add fields: match_id, player_id, etc.
â”‚
â”œâ”€â”€ schemas/
â”‚   â””â”€â”€ match_schema.py                # âœ… Pydantic validation for match data
â”‚
â”œâ”€â”€ exporters/
â”‚   â”œâ”€â”€ file_exporter.py               # ğŸ“¤ Export to JSON/Parquet (local/S3)
â”‚   â”œâ”€â”€ api_exporter.py                # ğŸ“¡ REST API endpoints for downstream pull
â”‚   â””â”€â”€ data_registry.py               # ğŸ§¾ Track export logs, timestamps, sources
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ logger.py                      # ğŸ“ Logger with levels, colors, timestamps
â”‚   â””â”€â”€ helpers.py                     # ğŸ§° Common utilities (e.g., hashing, flattening)
â”‚
â””â”€â”€ cron_jobs/
    â””â”€â”€ scheduled_sync.py              # â° Scheduler to trigger the 3 controllers


cricket_venv

# 1. Create virtual environment
python3 -m venv cricket_venv

# 2. Activate it
# On Linux/macOS:
source cricket_venv/bin/activate

# On Windows:
cricket_venv\Scripts\activate

# 3. Install dependencies
pip install -r requirements.txt

# 4. Run the server
python3 main.py

http://localhost:8088/
